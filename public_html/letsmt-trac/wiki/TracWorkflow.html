<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  
  

  


  <head>
    <title>
      TracWorkflow – LetsMT
    </title>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!--[if IE]><script type="text/javascript">
      if (/^#__msie303:/.test(window.location.hash))
        window.location.replace(window.location.hash.replace(/^#__msie303:/, '#'));
    </script><![endif]-->
        <link rel="search" href="http://opus.nlpl.eu/letsmt-trac/search" />
        <link rel="help" href="TracGuide.html" />
        <link rel="alternate" href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?format=txt" type="text/x-trac-wiki" title="Plain Text" /><link rel="alternate" href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?format=tex" type="text/x-trac-wiki" title="Latex" /><link rel="alternate" href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?format=pdf" type="text/x-trac-wiki" title="Latex-Pdf" />
        <link rel="start" href="../wiki.html" />
        <link rel="stylesheet" href="../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../chrome/common/css/wiki.css" type="text/css" />
        <link rel="shortcut icon" href="../chrome/common/trac.ico" type="image/x-icon" />
        <link rel="icon" href="../chrome/common/trac.ico" type="image/x-icon" />
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/jquery.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/babel.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/messages/en_US.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/trac.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/search.js"></script>
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/folding.js"></script>
    <meta name="ROBOTS" content="NOINDEX, NOFOLLOW" />
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor(_("Link to this section"));
        $("#content").find(".wikianchor").each(function() {
          $(this).addAnchor(babel.format(_("Link to #%(id)s"), {id: $(this).attr('id')}));
        });
        $(".foldable").enableFolding(true, true);
      });
    </script>
  </head>
  <body>
    <div id="banner">
      <div id="header">
        <a id="logo" href="http://www.letsmt.eu/"><img src="http://stp.lingfil.uu.se/~joerg/LetsMT/letsmt.jpg" alt="LetsMT" width="100" /></a>
      </div>
      <form id="search" action="http://opus.nlpl.eu/letsmt-trac/search" method="get">
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="http://opus.nlpl.eu/letsmt-trac/login">Login</a></li><li><a href="../prefs.html">Preferences</a></li><li><a href="TracGuide.html">Help/Guide</a></li><li class="last"><a href="../about.html">About Trac</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="../wiki.html">Wiki</a></li><li class="last"><a href="../roadmap.html">Roadmap</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="pagepath" class="noprint">
  <a class="pathentry first" title="View WikiStart" href="../wiki.html">wiki:</a><a class="pathentry" href="TracWorkflow.html" title="View TracWorkflow">TracWorkflow</a>
</div>
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
        <ul>
          <li class="first"><a href="WikiStart.html">Start Page</a></li><li><a href="TitleIndex.html">Index</a></li><li class="last"><a href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?action=history">History</a></li>
        </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <div class="wikipage searchable">
        
          <div id="wikipage" class="trac-content"><h1 id="TheTracTicketWorkflowSystem">The Trac Ticket Workflow System</h1>
<p>
</p><div class="wiki-toc"><h4>Contents</h4>
    <ol>
      <li>
        <a href="TracWorkflow.html#TheDefaultTicketWorkflow">The Default Ticket Workflow</a>
        <ol>
          <li>
            <a href="TracWorkflow.html#Environmentsupgradedfrom0.10">Environments upgraded from 0.10</a>
          </li>
          <li>
            <a href="TracWorkflow.html#Environmentscreatedwith0.11">Environments created with 0.11</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="TracWorkflow.html#AdditionalTicketWorkflows">Additional Ticket Workflows</a>
      </li>
      <li>
        <a href="TracWorkflow.html#BasicTicketWorkflowCustomization">Basic Ticket Workflow Customization</a>
      </li>
      <li>
        <a href="TracWorkflow.html#WorkflowVisualization">Workflow Visualization</a>
      </li>
      <li>
        <a href="TracWorkflow.html#Example:AddingoptionalTestingwithWorkflow">Example: Adding optional Testing with Workflow</a>
        <ol>
          <li>
            <a href="TracWorkflow.html#Howtocombinethetracopt.ticket.commit_updaterwiththetestingworkflow">How to combine the <tt>tracopt.ticket.commit_updater</tt> with the testing …</a>
          </li>
        </ol>
      </li>
      <li>
        <a href="TracWorkflow.html#Example:Addsimpleoptionalgenericreviewstate">Example: Add simple optional generic review state</a>
      </li>
      <li>
        <a href="TracWorkflow.html#Example:Limittheresolutionoptionsforanewticket">Example: Limit the resolution options for a new ticket</a>
      </li>
      <li>
        <a href="TracWorkflow.html#AdvancedTicketWorkflowCustomization">Advanced Ticket Workflow Customization</a>
      </li>
      <li>
        <a href="TracWorkflow.html#AddingWorkflowStatestoMilestoneProgressBars">Adding Workflow States to Milestone Progress Bars</a>
      </li>
      <li>
        <a href="TracWorkflow.html#Ideasfornextsteps">Ideas for next steps</a>
      </li>
    </ol>
</div><p>
</p><div class="wiki-toc"><h4>Table of Contents</h4><ul><li class="False"><a class="False" href="TracGuide.html">Index</a></li><li class="False"><a class="False" href="TracInstall.html">Installation</a></li><li class="False"><a class="False" href="TracInterfaceCustomization.html">Customization</a></li><li class="False"><a class="False" href="TracPlugins.html">Plugins</a></li><li class="False"><a class="False" href="TracUpgrade.html">Upgrading</a></li><li class="False"><a class="False" href="TracIni.html">Configuration</a></li><li class="False"><a class="False" href="TracAdmin.html">Administration</a></li><li class="False"><a class="False" href="TracBackup.html">Backup</a></li><li class="False"><a class="False" href="TracLogging.html">Logging</a></li><li class="False"><a class="False" href="TracPermissions.html">Permissions</a></li><li class="False"><a class="False" href="TracWiki.html">The Wiki</a></li><li class="False"><a class="False" href="WikiFormatting.html">Wiki Formatting</a></li><li class="False"><a class="False" href="TracTimeline.html">Timeline</a></li><li class="False"><a class="False" href="TracBrowser.html">Repository Browser</a></li><li class="False"><a class="False" href="TracRevisionLog.html">Revision Log</a></li><li class="False"><a class="False" href="TracChangeset.html">Changesets</a></li><li class="False"><a class="False" href="TracTickets.html">Tickets</a></li><li class="active"><a class="False" href="TracWorkflow.html">Workflow</a></li><li class="False"><a class="False" href="TracRoadmap.html">Roadmap</a></li><li class="False"><a class="False" href="TracQuery.html">Ticket Queries</a></li><li class="False"><a class="False" href="TracBatchModify.html">Batch Modify</a></li><li class="False"><a class="False" href="TracReports.html">Reports</a></li><li class="False"><a class="False" href="TracRss.html">RSS Support</a></li><li class="False"><a class="False" href="TracNotification.html">Notification</a></li></ul></div><p>
The Trac ticket system provides a configurable workflow.
</p>
<h2 id="TheDefaultTicketWorkflow">The Default Ticket Workflow</h2>
<h3 id="Environmentsupgradedfrom0.10">Environments upgraded from 0.10</h3>
<p>
When you run <tt>trac-admin &lt;env&gt; upgrade</tt>, your <tt>trac.ini</tt> will be modified to include a <tt>[ticket-workflow]</tt> section.
The workflow configured in this case is the original workflow, so that ticket actions will behave like they did in 0.10:
</p>
<div class="trac-workflow-graph system-message" id="trac-workflow-graph-7f88cd9ebe88">Enable JavaScript to display the workflow graph.</div><p>
There are some significant caveats in this, such as accepting a ticket sets it to 'assigned' state, and assigning a ticket sets it to 'new' state. So you will probably want to migrate to "basic" workflow, see contrib/workflow/migrate_original_to_basic.py. 
</p>
<h3 id="Environmentscreatedwith0.11">Environments created with 0.11</h3>
<p>
When a new environment is created, a default workflow is configured in your trac.ini. This workflow is the basic workflow, such as specified in <tt>basic-workflow.ini</tt>, which is somewhat different from the workflow of the 0.10 releases:
</p>
<div class="trac-workflow-graph system-message" id="trac-workflow-graph-7f88cdc2c168">Enable JavaScript to display the workflow graph.</div><h2 id="AdditionalTicketWorkflows">Additional Ticket Workflows</h2>
<p>
There are example workflows provided in the Trac source tree, see <a class="ext-link" href="http://trac.edgewall.org/intertrac/source%3Atrunk/contrib/workflow" title="source:trunk/contrib/workflow in Trac project trac"><span class="icon">​</span>contrib/workflow</a> for <tt>.ini</tt> config sections. One of those may be a good match for what you want. They can be pasted into the <tt>[ticket-workflow]</tt> section of your <tt>trac.ini</tt> file. However, if you have existing tickets then there may be issues if those tickets have states that are not in the new workflow. 
</p>
<p>
Here are some <a class="ext-link" href="http://trac.edgewall.org/intertrac/WorkFlow/Examples" title="WorkFlow/Examples in Trac project trac"><span class="icon">​</span>diagrams</a> of the above examples.
</p>
<h2 id="BasicTicketWorkflowCustomization">Basic Ticket Workflow Customization</h2>
<p>
Note: Ticket "statuses" or "states" are not separately defined. The states a ticket can be in are automatically generated by the transitions defined in a workflow. Therefore, creating a new ticket state simply requires defining a state transition in the workflow that starts or ends with that state.
</p>
<p>
Create a <tt>[ticket-workflow]</tt> section in <tt>trac.ini</tt>.
Within this section, each entry is an action that may be taken on a ticket. 
For example, consider the <tt>accept</tt> action from <tt>simple-workflow.ini</tt>:
</p>
<div class="code"><pre><span class="na">accept</span> <span class="o">=</span> <span class="s">new,accepted -&gt; accepted</span>
<span class="na">accept.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">accept.operations</span> <span class="o">=</span> <span class="s">set_owner_to_self</span>
</pre></div><p>
The first line in this example defines the <tt>accept</tt> action, along with the states the action is valid in (<tt>new</tt> and <tt>accepted</tt>), and the new state of the ticket when the action is taken (<tt>accepted</tt>).
The <tt>accept.permissions</tt> line specifies what permissions the user must have to use this action.
The <tt>accept.operations</tt> line specifies changes that will be made to the ticket in addition to the status change when this action is taken.  In this case, when a user clicks on <tt>accept</tt>, the ticket owner field is updated to the logged in user.  Multiple operations may be specified in a comma separated list.
</p>
<p>
The available operations are:
</p>
<ul><li><strong>del_owner</strong> -- Clear the owner field.
</li><li><strong>set_owner</strong> -- Sets the owner to the selected or entered owner. Defaults to the current user. When <tt>[ticket] restrict_owner = true</tt>, the select will be populated with users that have <tt>TICKET_MODIFY</tt> permission and an authenticated session.
<ul><li><em>actionname</em><tt>.set_owner</tt> may optionally be set to a comma delimited list of users that will be used to populate the select, or a single user.
</li></ul></li><li><strong>set_owner_to_self</strong> -- Sets the owner to the logged in user.
</li><li><strong>del_resolution</strong> -- Clears the resolution field.
</li><li><strong>set_resolution</strong> -- Sets the resolution to the selected value.
<ul><li><em>actionname</em><tt>.set_resolution</tt> may optionally be set to a comma delimited list or a single value. Example:
<div class="code"><pre><span class="na">resolve_new</span> <span class="o">=</span> <span class="s">new -&gt; closed</span>
<span class="na">resolve_new.name</span> <span class="o">=</span> <span class="s">resolve</span>
<span class="na">resolve_new.operations</span> <span class="o">=</span> <span class="s">set_resolution</span>
<span class="na">resolve_new.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">resolve_new.set_resolution</span> <span class="o">=</span> <span class="s">invalid,wontfix</span>
</pre></div></li></ul></li><li><strong>leave_status</strong> -- Displays "leave as &lt;current status&gt;" and makes no change to the ticket.
</li><li><strong>reset_workflow</strong> -- Resets the status of tickets that are in states no longer defined.
</li></ul><p>
<strong>Note:</strong> Specifying conflicting operations, such as <tt>set_owner</tt> and <tt>del_owner</tt>, has unspecified results.
</p>
<p>
In this example, we see the <tt>.name</tt> attribute used. The action here is <tt>resolve_accepted</tt>, but it will be presented to the user as <tt>resolve</tt>.
</p>
<div class="code"><pre><span class="na">resolve_accepted</span> <span class="o">=</span> <span class="s">accepted -&gt; closed</span>
<span class="na">resolve_accepted.name</span> <span class="o">=</span> <span class="s">resolve</span>
<span class="na">resolve_accepted.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">resolve_accepted.operations</span> <span class="o">=</span> <span class="s">set_resolution</span>
</pre></div><p>
For actions that should be available in all states, <tt>*</tt> may be used in place of the state. The obvious example is the <tt>leave</tt> action:
</p>
<div class="code"><pre><span class="na">leave</span> <span class="o">=</span> <span class="s">* -&gt; *</span>
<span class="na">leave.operations</span> <span class="o">=</span> <span class="s">leave_status</span>
<span class="na">leave.default</span> <span class="o">=</span> <span class="s">1</span>
</pre></div><p>
This also shows the use of the <tt>.default</tt> attribute. This value is expected to be an integer, and the order in which the actions are displayed is determined by this value. The action with the highest <tt>.default</tt> value is listed first, and is selected by default. The rest of the actions are listed in order of decreasing <tt>.default</tt> values.
If not specified for an action, <tt>.default</tt> is 0. The value may be negative.
</p>
<p>
There are a couple of hard-coded constraints to the workflow. In particular, tickets are created with status <tt>new</tt>, and tickets are expected to have a <tt>closed</tt> state. Further, the default reports/queries treat any state other than <tt>closed</tt> as an open state.
</p>
<p>
The special <tt>_reset</tt> action is added by default for tickets that are in states that are no longer defined. This allows tickets to be individually "repaired" after the workflow is changed, although it's recommended that the administrator perform the action by batch modifying the affected tickets. By default the <tt>_reset</tt> action is available to users with the <tt>TICKET_ADMIN</tt> permission and reset tickets are put in the <em>new</em> state. The default <tt>_reset</tt> action is equivalent to the following <tt>[ticket-workflow]</tt> action definition:
</p>
<div class="code"><pre><span class="na">_reset</span> <span class="o">=</span> <span class="s">-&gt; new</span>
<span class="na">_reset.name</span> <span class="o">=</span> <span class="s">reset</span>
<span class="na">_reset.operations</span> <span class="o">=</span> <span class="s">reset_workflow</span>
<span class="na">_reset.permissions</span> <span class="o">=</span> <span class="s">TICKET_ADMIN</span>
<span class="na">_reset.default</span> <span class="o">=</span> <span class="s">0</span>
</pre></div><p>
Since <a class="ext-link" href="http://trac.edgewall.org/intertrac/milestone%3A1.0.3" title="milestone:1.0.3 in Trac project trac"><span class="icon">​</span>milestone:1.0.3</a> the <tt>_reset</tt> action can be customized by redefining the implicit action. For example, to allow anyone with <tt>TICKET_MODIFY</tt> to perform the <tt>_reset</tt> action, the workflow action would need to be defined:
</p>
<div class="code"><pre><span class="na">_reset</span> <span class="o">=</span> <span class="s">-&gt; new</span>
<span class="na">_reset.name</span> <span class="o">=</span> <span class="s">reset</span>
<span class="na">_reset.operations</span> <span class="o">=</span> <span class="s">reset_workflow</span>
<span class="na">_reset.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">_reset.default</span> <span class="o">=</span> <span class="s">0</span>
</pre></div><h2 id="WorkflowVisualization">Workflow Visualization</h2>
<p>
Workflows can be visualized by rendering them on the wiki using the <a class="wiki" href="WikiMacros.html#Workflow-macro">Workflow macro</a>.
</p>
<p>
Workflows can also be visualized using the <tt>contrib/workflow/workflow_parser.py</tt> script. The script outputs <tt>.dot</tt> files that <a class="ext-link" href="http://www.graphviz.org"><span class="icon">​</span>GraphViz</a> understands. The script can be used as follows (your install path may be different):
</p>
<div class="code"><pre><span class="nb">cd</span> /var/local/trac_devel/contrib/workflow/
sudo ./showworkflow /srv/trac/PlannerSuite/conf/trac.ini
</pre></div><p>
And then open up the resulting <tt>trac.pdf</tt> file created by the script. It will be in the same directory as the <tt>trac.ini</tt> file.
</p>
<p>
After you have changed a workflow, you need to restart your webserver for the changes to take effect.
</p>
<h2 id="Example:AddingoptionalTestingwithWorkflow">Example: Adding optional Testing with Workflow</h2>
<p>
By adding the following to your [ticket-workflow] section of trac.ini you get optional testing. When the ticket has status <tt>new</tt>, <tt>accepted</tt> or <tt>needs_work</tt>, you can choose to submit it for testing.  When it's in the testing status the user gets the option to reject it and send it back to <tt>needs_work</tt>, or pass the testing and send it along to <tt>closed</tt>. If they accept it, then it is automatically marked as <tt>closed</tt> and the resolution is set to <tt>fixed</tt>. Since all the old work flow remains, a ticket can skip this entire section.
</p>
<div class="code"><pre><span class="na">testing</span> <span class="o">=</span> <span class="s">new,accepted,needs_work,assigned,reopened -&gt; testing</span>
<span class="na">testing.name</span> <span class="o">=</span> <span class="s">Submit to reporter for testing</span>
<span class="na">testing.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>

<span class="na">reject</span> <span class="o">=</span> <span class="s">testing -&gt; needs_work</span>
<span class="na">reject.name</span> <span class="o">=</span> <span class="s">Failed testing, return to developer</span>

<span class="na">pass</span> <span class="o">=</span> <span class="s">testing -&gt; closed</span>
<span class="na">pass.name</span> <span class="o">=</span> <span class="s">Passes Testing</span>
<span class="na">pass.operations</span> <span class="o">=</span> <span class="s">set_resolution</span>
<span class="na">pass.set_resolution</span> <span class="o">=</span> <span class="s">fixed</span>
</pre></div><h3 id="Howtocombinethetracopt.ticket.commit_updaterwiththetestingworkflow">How to combine the <tt>tracopt.ticket.commit_updater</tt> with the testing workflow</h3>
<p>
The <a class="ext-link" href="http://trac.edgewall.org/intertrac/source%3Atrunk/tracopt/ticket/commit_updater.py" title="source:trunk/tracopt/ticket/commit_updater.py in Trac project trac"><span class="icon">​</span>tracopt.ticket.commit_updater</a> is the optional component that <a class="wiki" href="TracRepositoryAdmin.html#trac-post-commit-hook">replaces the old trac-post-commit-hook</a>, in Trac 0.12.
</p>
<p>
By default it reacts on some keywords found in changeset message logs like <em>close</em>, <em>fix</em> etc. and performs the corresponding workflow action.
</p>
<p>
If you have a more complex workflow, like the testing stage described above and you want the <em>closes</em> keyword to move the ticket to the <em>testing</em> status instead of the <em>closed</em> status, you need to adapt the code a bit. 
</p>
<p>
Have a look at the <a class="ext-link" href="http://trac.edgewall.org/intertrac/wiki%3A0.11/TracWorkflow%23How-ToCombineSVNtrac-post-commit-hookWithTestWorkflow" title="wiki:0.11/TracWorkflow#How-ToCombineSVNtrac-post-commit-hookWithTestWorkflow in Trac project trac"><span class="icon">​</span>Trac 0.11 recipe</a> for the <tt>trac-post-commit-hook</tt>, this will give you some ideas about how to modify the component.
</p>
<h2 id="Example:Addsimpleoptionalgenericreviewstate">Example: Add simple optional generic review state</h2>
<p>
Sometimes Trac is used in situations where "testing" can mean different things to different people so you may want to create an optional workflow state that is between the default workflow's <tt>assigned</tt> and <tt>closed</tt> states, but does not impose implementation-specific details. The only new state you need to add for this is a <tt>reviewing</tt> state. A ticket may then be "submitted for review" from any state that it can be reassigned. If a review passes, you can re-use the <tt>resolve</tt> action to close the ticket, and if it fails you can re-use the <tt>reassign</tt> action to push it back into the normal workflow.
</p>
<p>
The new <tt>reviewing</tt> state along with its associated <tt>review</tt> action looks like this:
</p>
<div class="code"><pre><span class="na">review</span> <span class="o">=</span> <span class="s">new,assigned,reopened -&gt; reviewing</span>
<span class="na">review.operations</span> <span class="o">=</span> <span class="s">set_owner</span>
<span class="na">review.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
</pre></div><p>
Then, to integrate this with the default Trac 0.11 workflow, you also need to add the <tt>reviewing</tt> state to the <tt>accept</tt> and <tt>resolve</tt> actions, like so:
</p>
<div class="code"><pre><span class="na">accept</span> <span class="o">=</span> <span class="s">new,reviewing -&gt; assigned</span>
<span class="k">[…]</span>
<span class="na">resolve</span> <span class="o">=</span> <span class="s">new,assigned,reopened,reviewing -&gt; closed</span>
</pre></div><p>
Optionally, you can also add a new action that allows you to change the ticket's owner without moving the ticket out of the <tt>reviewing</tt> state. This enables you to reassign review work without pushing the ticket back to the <tt>new</tt> status.
</p>
<div class="code"><pre><span class="na">reassign_reviewing</span> <span class="o">=</span> <span class="s">reviewing -&gt; *</span>
<span class="na">reassign_reviewing.name</span> <span class="o">=</span> <span class="s">reassign review</span>
<span class="na">reassign_reviewing.operations</span> <span class="o">=</span> <span class="s">set_owner</span>
<span class="na">reassign_reviewing.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
</pre></div><p>
The full <tt>[ticket-workflow]</tt> configuration will thus look like this:
</p>
<div class="code"><pre><span class="k">[ticket-workflow]</span>
<span class="na">accept</span> <span class="o">=</span> <span class="s">new,reviewing -&gt; assigned</span>
<span class="na">accept.operations</span> <span class="o">=</span> <span class="s">set_owner_to_self</span>
<span class="na">accept.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">leave</span> <span class="o">=</span> <span class="s">* -&gt; *</span>
<span class="na">leave.default</span> <span class="o">=</span> <span class="s">1</span>
<span class="na">leave.operations</span> <span class="o">=</span> <span class="s">leave_status</span>
<span class="na">reassign</span> <span class="o">=</span> <span class="s">new,assigned,accepted,reopened -&gt; assigned</span>
<span class="na">reassign.operations</span> <span class="o">=</span> <span class="s">set_owner</span>
<span class="na">reassign.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">reopen</span> <span class="o">=</span> <span class="s">closed -&gt; reopened</span>
<span class="na">reopen.operations</span> <span class="o">=</span> <span class="s">del_resolution</span>
<span class="na">reopen.permissions</span> <span class="o">=</span> <span class="s">TICKET_CREATE</span>
<span class="na">resolve</span> <span class="o">=</span> <span class="s">new,assigned,reopened,reviewing -&gt; closed</span>
<span class="na">resolve.operations</span> <span class="o">=</span> <span class="s">set_resolution</span>
<span class="na">resolve.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">review</span> <span class="o">=</span> <span class="s">new,assigned,reopened -&gt; reviewing</span>
<span class="na">review.operations</span> <span class="o">=</span> <span class="s">set_owner</span>
<span class="na">review.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">reassign_reviewing</span> <span class="o">=</span> <span class="s">reviewing -&gt; *</span>
<span class="na">reassign_reviewing.operations</span> <span class="o">=</span> <span class="s">set_owner</span>
<span class="na">reassign_reviewing.name</span> <span class="o">=</span> <span class="s">reassign review</span>
<span class="na">reassign_reviewing.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
</pre></div><h2 id="Example:Limittheresolutionoptionsforanewticket">Example: Limit the resolution options for a new ticket</h2>
<p>
The above <tt>resolve_new</tt> operation allows you to set the possible resolutions for a new ticket. By modifying the existing resolve action and removing the new status from before the <tt>-&gt;</tt> we then get two resolve actions. One with limited resolutions for new tickets, and then the regular one once a ticket is accepted.
</p>
<div class="code"><pre><span class="na">resolve_new</span> <span class="o">=</span> <span class="s">new -&gt; closed</span>
<span class="na">resolve_new.name</span> <span class="o">=</span> <span class="s">resolve</span>
<span class="na">resolve_new.operations</span> <span class="o">=</span> <span class="s">set_resolution</span>
<span class="na">resolve_new.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
<span class="na">resolve_new.set_resolution</span> <span class="o">=</span> <span class="s">invalid,wontfix,duplicate</span>

<span class="na">resolve</span> <span class="o">=</span> <span class="s">assigned,accepted,reopened -&gt; closed</span>
<span class="na">resolve.operations</span> <span class="o">=</span> <span class="s">set_resolution</span>
<span class="na">resolve.permissions</span> <span class="o">=</span> <span class="s">TICKET_MODIFY</span>
</pre></div><h2 id="AdvancedTicketWorkflowCustomization">Advanced Ticket Workflow Customization</h2>
<p>
If the customizations above do not meet your needs, you can extend the workflow with plugins. Plugins can provide additional operations for the workflow, like code_review, or implement side-effects for an action, such as triggering a build, that may not be merely simple state changes. Look at <a class="ext-link" href="http://trac.edgewall.org/intertrac/source%3Atrunk/sample-plugins/workflow" title="source:trunk/sample-plugins/workflow in Trac project trac"><span class="icon">​</span>sample-plugins/workflow</a> for a few examples to get started.
</p>
<p>
But if even that is not enough, you can disable the ConfigurableTicketWorkflow component and create a plugin that completely replaces it.
</p>
<h2 id="AddingWorkflowStatestoMilestoneProgressBars">Adding Workflow States to Milestone Progress Bars</h2>
<p>
If you add additional states to your workflow, you may want to customize your milestone progress bars as well. See <a class="wiki" href="TracIni.html#milestone-groups-section">TracIni</a>.
</p>
<h2 id="Ideasfornextsteps">Ideas for next steps</h2>
<p>
New enhancement ideas for the workflow system should be filed as enhancement tickets against the <tt>ticket system</tt> component.  You can also document ideas on the <a class="ext-link" href="http://trac.edgewall.org/intertrac/TracIdeas/TracWorkflow" title="TracIdeas/TracWorkflow in Trac project trac"><span class="icon">​</span>TracIdeas/TracWorkflow</a> page. Also look at the <a class="ext-link" href="http://trac-hacks.org/wiki/AdvancedTicketWorkflowPlugin"><span class="icon">​</span>AdvancedTicketWorkflowPlugin</a> as it provides experimental operations.
</p>
</div>
          
          <div class="trac-modifiedby">
            <span><a href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?action=diff&amp;version=3" title="Version 3 by trac">Last modified</a> <a class="timeline" href="http://opus.nlpl.eu/letsmt-trac/timeline?from=2015-02-25T21%3A37%3A47Z&amp;precision=second" title="See timeline at Feb 25, 2015, 9:37:47 PM">6 years ago</a></span>
            <span class="trac-print">Last modified on Feb 25, 2015, 9:37:47 PM</span>
          </div>
        
        
      </div>
      

    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("/letsmt-trac/pygments/trac.css", "text/css");
    </script>
    <script type="text/javascript">
      var graph_7f88cdc2c168={"actions":["leave","reassign","resolve","accept","reopen"],"edges":[[0,0,0],[4,2,1],[2,2,1],[5,2,1],[1,2,1],[4,3,2],[2,3,2],[5,3,2],[1,3,2],[4,5,3],[2,5,3],[5,5,3],[1,5,3],[3,1,4]],"height":"300","nodes":["*","reopened","assigned","closed","new","accepted"],"width":"700"};
      var graph_7f88cd9ebe88={"actions":["leave","reassign","resolve","accept","reopen"],"edges":[[2,2,0],[1,1,1],[0,1,1],[3,1,1],[1,4,2],[0,4,2],[3,4,2],[1,0,3],[4,3,4]],"height":"240","nodes":["assigned","new","*","reopened","closed"],"width":"500"};
    </script>
      <!--[if IE]><script type="text/javascript" charset="utf-8" src="/letsmt-trac/chrome/common/js/excanvas.js"></script><![endif]-->
      <script type="text/javascript" charset="utf-8" src="../chrome/common/js/workflow_graph.js"></script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="first">
          <a rel="nofollow" href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?format=txt">Plain Text</a>
        </li><li>
          <a rel="nofollow" href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?format=tex">Latex</a>
        </li><li class="last">
          <a rel="nofollow" href="http://opus.nlpl.eu/letsmt-trac/wiki/TracWorkflow?format=pdf">Latex-Pdf</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="http://trac.edgewall.org/"><img src="../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">Powered by <a href="../about.html"><strong>Trac 1.0.1</strong></a><br />
        By <a href="http://www.edgewall.org/">Edgewall Software</a>.</p>
      <p class="right">Visit the Trac open source project at<br /><a href="http://trac.edgewall.org/">http://trac.edgewall.org/</a></p>
    </div>
  </body>
</html>